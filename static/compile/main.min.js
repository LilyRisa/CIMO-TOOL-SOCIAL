(()=>{var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&(t=i.currentScript.src),!t)){var o=i.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=o[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../../"})(),$(document).ready((function(){$(".sidenav").sidenav(),window.ipcRender.send("crontab_tiktok"),$(document).on("click","#download_save_tik",(function(e){e.preventDefault();let t={};t.folder_video=$("#tik-folder").val(),t.proxy=$("#proxy_list").val(),t.cookie=$("#cookie_tik").val(),t.desc=$("#desc_tik").val(),t.crontab=$("#crontab_tik").val(),t.crontab_status=$("#crontab_tik_status").val(),t.category="tiktok_auto_upload_video",t=JSON.stringify(t),window.ipcRender.send("save_tik_file",t),window.ipcRender.receive("save_tik_file",(e=>{console.log(e),M.toast({html:"Đã lưu file tại đường dẫn:\n"+e,displayLength:1e4})}))})),$(document).on("click",".select-tik-proxy",(function(){window.ipcRender.send("openFile","proxy"),window.ipcRender.receive("openFileproxy",(e=>{$("#tik_path_proxy").html(e.filePath),$("#proxy_list").val(e.data),M.textareaAutoResize($("#proxy_list"))}))})),$(document).on("click",".select-tik-desc",(function(){window.ipcRender.send("openFile","desc"),window.ipcRender.receive("openFiledesc",(e=>{$("#tik_path_desc").html(e.filePath),$("#desc_tik").val(e.data),M.textareaAutoResize($("#desc_tik"))}))})),$(document).on("click",".select-tik-cookie",(function(){window.ipcRender.send("openFile","cookie"),window.ipcRender.receive("openFilecookie",(e=>{$("#tik_path_cookie").html(e.filePath),$("#cookie_tik").val(e.data),M.textareaAutoResize($("#cookie_tik"))}))})),$("#tiktok-navbar").on("click",(function(){$(".sidenav").sidenav("close"),function(e,t,i=null){$.ajax({url:"./components/"+t,dataType:"html"}).done((t=>{$(e).html(t),null!=i&&i()}))}("#root","tiktok.html",(function(){let e=$(".fixed-action-btn");M.FloatingActionButton.init(e,{direction:"left",hoverEnabled:!1});let t=$(".tooltipped");M.Tooltip.init(t,[])}))})),$(document).on("click",".select-tik-folder",(function(e){e.preventDefault(),console.log("open folder"),window.ipcRender.send("openFolderDialog")})),console.log(window.ipcRender),window.ipcRender.receive("ReopenFolderDialog",(e=>{$(".path-tik-video").html(`Đường dẫn thư mục: <i>${e.selectedFolder}<i><p> Số video: <i>${e.countvideo}</i>`),$("#tik-folder").val(e.selectedFolder)})),$(document).on("click","#upload_save_tik",(function(e){window.ipcRender.send("openFile","SaveTiktok"),window.ipcRender.receive("openFileSaveTiktok",(e=>{let t=JSON.parse(e.data);void 0!==t.category&&"tiktok_auto_upload_video"==t.category?(window.ipcRender.send("checkCountVideoInPath",t.folder_video),window.ipcRender.receive("checkCountVideoInPath",(e=>{$(".path-tik-video").html(`Đường dẫn thư mục: <i>${e.selectedFolder}<i><p> Số video: <i>${e.countvideo}</i>`),$("#tik-folder").val(e.selectedFolder)})),$("#proxy_list").val(t.proxy),M.textareaAutoResize($("#proxy_list")),$("#cookie_tik").val(t.cookie),M.textareaAutoResize($("#cookie_tik")),$("#crontab_tik").val(t.crontab),M.textareaAutoResize($("#crontab_tik")),$("#desc_tik").val(t.desc),M.textareaAutoResize($("#desc_tik")),$("#crontab_tik_status").val(t.crontab_status),M.toast({html:"Load thành công file:\n"+e.filePath,displayLength:1e4,classes:"green"})):M.toast({html:"File không hợp lệ",displayLength:1e4,classes:"red"})}))})),$(document).on("click","#tik-submit",(function(e){if(e.preventDefault(),0==$("#tik-folder").val().length||0==$("#cookie_tik").val().length||0==$("#crontab_tik").val().length)return void M.toast({html:"Thiếu dữ liệu cần thiết như folder video, cookie, crontab",displayLength:1e4,classes:"red"});let t={};t.folder_video=$("#tik-folder").val(),t.proxy=$("#proxy_list").val(),t.cookie=$("#cookie_tik").val(),t.desc=$("#desc_tik").val(),t.crontab=$("#crontab_tik").val(),t.crontab_status=$("#crontab_tik_status").val(),t.category="tiktok_auto_upload_video",t=JSON.stringify(t),window.ipcRender.send("tiktokStartSaveFile",t),window.ipcRender.receive("tiktokStartSaveFile",(e=>{if(e.status)return M.toast({html:"Thực thi thành công",classes:"green"}),void window.ipcRender.send("crontab_tiktok");e.status||"license"!=e.type?e.status||"crontab"!=e.type?M.toast({html:"Lỗi không xác định:\n"+e.type,classes:"red"}):M.toast({html:"Crontab không đúng định dạng",classes:"red"}):M.toast({html:"Mua gói pro để thực thi nhiều chiến dịch",classes:"red"})}))}))})),(()=>{"use strict";e.p})()})();